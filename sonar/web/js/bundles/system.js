webpackJsonp([24],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),s=a(r),o=n(32),i=a(o),l=n(1488),u=a(l);window.sonarqube.appStarted.then(function(e){var t=document.querySelector(e.el);i["default"].render(s["default"].createElement(u["default"],null),t)})},230:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return"X-XSRF-TOKEN"}function o(){var e="XSRF-TOKEN",t=(0,g.getCookie)(e);return t?t:""}function i(){return r({},s(),o())}function l(e){return new E(e)}function u(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.status);throw t.response=e,t}function c(e){return e.json()}function d(e,t){return l(e).setData(t).submit().then(u).then(c)}function f(e,t){return l(e).setMethod("POST").setData(t).submit().then(u).then(c)}function m(e,t){return l(e).setMethod("POST").setData(t).submit().then(u)}function p(e,t){return l(e).setMethod("DELETE").setData(t).submit().then(u)}function v(e){return new Promise(function(t){return setTimeout(function(){return t(e)},3e3)})}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getCSRFTokenName=s,t.getCSRFTokenValue=o,t.getCSRFToken=i,t.request=l,t.checkStatus=u,t.parseJSON=c,t.getJSON=d,t.postJSON=f,t.post=m,t.requestDelete=p,t.delay=v;var b=n(231),g=n(234),w={method:"GET",credentials:"same-origin"},S={Accept:"application/json"},E=function(){function e(t){a(this,e),this.url=t,this.options={},this.headers={}}return y(e,[{key:"submit",value:function(){var e=this.url,t=h({},w,this.options),n={};return this.data&&(this.data instanceof FormData?t.body=this.data:"GET"===t.method?e+="?"+(0,b.stringify)(this.data):(n["Content-Type"]="application/x-www-form-urlencoded",t.body=(0,b.stringify)(this.data))),t.headers=h({},S,n,this.headers,i()),window.fetch(window.baseUrl+e,t)}},{key:"setMethod",value:function(e){return this.options.method=e,this}},{key:"setData",value:function(e){return this.data=e,this}},{key:"setHeader",value:function(e,t){return this.headers[e]=t,this}}]),e}()},231:function(e,t,n){"use strict";t.decode=t.parse=n(232),t.encode=t.stringify=n(233)},232:function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,r){t=t||"&",a=a||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var i=1e3;r&&"number"==typeof r.maxKeys&&(i=r.maxKeys);var l=e.length;i>0&&l>i&&(l=i);for(var u=0;u<l;++u){var c,d,f,m,p=e[u].replace(o,"%20"),v=p.indexOf(a);v>=0?(c=p.substr(0,v),d=p.substr(v+1)):(c=p,d=""),f=decodeURIComponent(c),m=decodeURIComponent(d),n(s,f)?Array.isArray(s[f])?s[f].push(m):s[f]=[s[f],m]:s[f]=m}return s}},233:function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,r){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var s=encodeURIComponent(n(r))+a;return Array.isArray(e[r])?e[r].map(function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+a+encodeURIComponent(n(e)):""}},234:function(e,t){"use strict";function n(e){if(r)return r[e];var t=document.cookie.split("; ");return r={},t.forEach(function(e){var t=e.split("="),n=a(t,2),s=n[0],o=n[1];r[s]=o}),r[e]}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(l){r=!0,s=l}finally{try{!a&&i["return"]&&i["return"]()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCookie=n;var r=void 0},238:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.join(".");return y[a]||a}function s(e){for(var t=y[e],n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t?a.reduce(function(e,t,n){return e.replace("{"+n+"}",t)},t):e+"."+a.join(".")}function o(){return window.navigator.languages?window.navigator.languages[0]:window.navigator.language}function i(e){var t="/api/l10n/index";return(0,h.request)(t).setData(e).submit().then(function(e){if(304===e.status)return JSON.parse(localStorage.getItem("l10n.bundle"));if(200===e.status)return e.json();throw new Error(e.status)})}function l(){var e=o(),t=localStorage.getItem("l10n.locale");t!==e&&localStorage.removeItem("l10n.timestamp");var n=localStorage.getItem("l10n.timestamp"),a={locale:e};return null!==n&&(a.ts=n),i(a).then(function(t){var n=(0,v["default"])().format("YYYY-MM-DDTHH:mm:ssZZ");localStorage.setItem("l10n.timestamp",n),localStorage.setItem("l10n.locale",e),localStorage.setItem("l10n.bundle",JSON.stringify(t)),y=t})}function u(e){y=e}function c(){window.t=r,window.tp=s,window.requestMessages=l}function d(e){var t="dashboard."+e+".name",n=r(t);return n!==t?n:e}function f(e){var t="metric."+e.key+".name",n=r(t);return n!==t?n:e.name}function m(e){var t="metric_domain."+e,n=r(t);return n!==t?n:e}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=r,t.translateWithParameters=s,t.requestMessages=l,t.resetBundle=u,t.installGlobal=c,t.getLocalizedDashboardName=d,t.getLocalizedMetricName=f,t.getLocalizedMetricDomain=m;var p=n(239),v=a(p),h=n(230),y={}},482:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(354),s=a(r),o=n(379),i=a(o),l="modal";t["default"]=i["default"].ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var e=this;this.$el.detach().appendTo((0,s["default"])("body")),(0,s["default"])("html").addClass(this.htmlClassName),this.renderOverlay(),this.keyScope=key.getScope(),key.setScope("modal"),key("escape","modal",function(){return e.destroy(),!1}),this.show(),this.options.large&&this.$el.addClass("modal-large")},show:function(){var e=this;setTimeout(function(){e.$el.addClass("in"),(0,s["default"])("."+e.overlayClassName).addClass("in")},0)},onDestroy:function(){(0,s["default"])("html").removeClass(this.htmlClassName),this.removeOverlay(),key.deleteScope("modal"),key.setScope(this.keyScope)},onCloseClick:function(e){e.preventDefault(),this.destroy()},renderOverlay:function(){var e=(0,s["default"])("."+this.overlayClassName);0===e.length&&(0,s["default"])('<div class="'+this.overlayClassName+'"></div>').appendTo((0,s["default"])("body"))},removeOverlay:function(){(0,s["default"])("."+this.overlayClassName).remove()},attachCloseEvents:function(){var e=this;(0,s["default"])("body").on("click."+l,function(){(0,s["default"])("body").off("click."+l),e.destroy()})}})},782:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(328),s=a(r),o=n(482),i=a(o);t["default"]=i["default"].extend({ui:function(){return{messagesContainer:".js-modal-messages"}},events:function(){return s["default"].extend(i["default"].prototype.events.apply(this,arguments),{"keydown input,textarea,select":"onInputKeydown","submit form":"onFormSubmit"})},onRender:function(){i["default"].prototype.onRender.apply(this,arguments);var e=this;setTimeout(function(){e.$(":tabbable").first().focus()},0)},onInputKeydown:function(e){27===e.keyCode&&this.destroy()},onFormSubmit:function(e){e.preventDefault()},showErrors:function(e,t){var n=this.ui.messagesContainer.empty();s["default"].isArray(e)&&e.forEach(function(e){var t='<div class="alert alert-danger">'+e.msg+"</div>";n.append(t)}),s["default"].isArray(t)&&t.forEach(function(e){var t='<div class="alert alert-warning">'+e.msg+"</div>";n.append(t)}),this.ui.messagesContainer.scrollParent().scrollTop(0)},disableForm:function(){var e=this.$("form");this.disabledFields=e.find(":input:not(:disabled)"),this.disabledFields.prop("disabled",!0)},enableForm:function(){null!=this.disabledFields&&this.disabledFields.prop("disabled",!1)}})},1488:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(328),s=a(r),o=n(1),i=a(o),l=n(1489),u=n(1490),c=a(u),d=n(238),f=n(1495),m=a(f),p=["SonarQube","Database","System","Elasticsearch State","Elasticsearch","Compute Engine Tasks","Compute Engine State","Compute Engine Database Connection","JvmProperties"];t["default"]=i["default"].createClass({displayName:"main",componentDidMount:function(){var e=this;(0,l.getSystemInfo)().then(function(t){return e.setState({sections:e.parseSections(t)})})},parseSections:function(e){var t=this,n=Object.keys(e).map(function(n){return{name:n,items:t.parseItems(e[n])}});return this.orderSections(n)},orderSections:function(e){return s["default"].sortBy(e,function(e){return p.indexOf(e.name)})},parseItems:function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return this.orderItems(t)},orderItems:function(e){return s["default"].sortBy(e,"name")},handleServerRestart:function(){(new m["default"]).render()},render:function(){var e=null;return this.state&&this.state.sections&&(e=this.state.sections.filter(function(e){return p.indexOf(e.name)>=0}).map(function(e){return i["default"].createElement(c["default"],{key:e.name,section:e.name,items:e.items})})),i["default"].createElement("div",{className:"page"},i["default"].createElement("header",{className:"page-header"},i["default"].createElement("h1",{className:"page-title"},(0,d.translate)("system_info.page")),i["default"].createElement("div",{className:"page-actions"},i["default"].createElement("a",{className:"spacer-right",href:window.baseUrl+"/api/system/logs",id:"logs-link"},"Logs"),i["default"].createElement("a",{href:window.baseUrl+"/api/system/info",id:"download-link"},"Download"),i["default"].createElement("button",{id:"restart-server-button",className:"big-spacer-left",onClick:this.handleServerRestart},"Restart Server"))),e)}})},1489:function(e,t,n){"use strict";function a(e){var t="/api/system/change_log_level",n={level:e};return(0,c.post)(t,n)}function r(){var e="/api/system/info";return(0,c.getJSON)(e)}function s(){var e="/api/system/status";return(0,c.getJSON)(e)}function o(){var e="/api/system/restart";return(0,c.post)(e)}function i(e){setTimeout(function(){s().then(function(t){"UP"===t.status?e():i(e)})["catch"](function(){return i(e)})},d)}function l(){return new Promise(function(e){return i(e)})}function u(){return o().then(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=a,t.getSystemInfo=r,t.getStatus=s,t.restart=o,t.restartAndWait=u;var c=n(230),d=2e3},1490:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),o=n(1491),i=a(o);t["default"]=s["default"].createClass({displayName:"section",render:function(){var e=this.props.items.map(function(e){return s["default"].createElement("tr",{key:e.name},s["default"].createElement("td",{className:"thin"},s["default"].createElement("div",{style:{width:"25vw",overflow:"hidden",textOverflow:"ellipsis"}},e.name)),s["default"].createElement("td",{style:{wordBreak:"break-all"}},s["default"].createElement(i["default"],{name:e.name,value:e.value})))});return s["default"].createElement("div",{className:"big-spacer-bottom"},s["default"].createElement("h3",{className:"spacer-bottom"},this.props.section),s["default"].createElement("table",{className:"data zebra",id:this.props.section},s["default"].createElement("tbody",null,e)))}})},1491:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),o=a(s),i=n(1492),l=a(i),u=n(1493),c=a(u),d=n(1494),f=a(d);t["default"]=o["default"].createClass({displayName:"item-value",render:function(){if("Logs Level"===this.props.name)return o["default"].createElement(f["default"],{value:this.props.value});var e=this.props.value,t=void 0;switch(r(this.props.value)){case"boolean":t=o["default"].createElement(l["default"],{value:e});break;case"object":t=o["default"].createElement(c["default"],{value:e});break;default:t=o["default"].createElement("code",null,e)}return t}})},1492:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r);t["default"]=s["default"].createClass({displayName:"item-boolean",render:function(){return this.props.value?s["default"].createElement("i",{className:"icon-check"}):s["default"].createElement("i",{className:"icon-delete"})}})},1493:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),o=n(1491),i=a(o);t["default"]=s["default"].createClass({displayName:"item-object",render:function(){var e=this,t=Object.keys(this.props.value).map(function(t){return s["default"].createElement("tr",{key:t},s["default"].createElement("td",{className:"thin nowrap"},t),s["default"].createElement("td",null,s["default"].createElement(i["default"],{value:e.props.value[t]})))});return s["default"].createElement("table",{className:"data"},s["default"].createElement("tbody",null,t))}})},1494:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),o=n(1489),i=n(238),l=["INFO","DEBUG","TRACE"];t["default"]=s["default"].createClass({displayName:"item-log-level",getInitialState:function(){return{level:this.props.value}},onChange:function(){var e=this,t=this.refs.select.value;(0,o.setLogLevel)(t).then(function(){e.setState({level:t})})},render:function(){var e=l.map(function(e){return s["default"].createElement("option",{key:e,value:e},e)}),t="INFO"!==this.state.level?s["default"].createElement("div",{className:"alert alert-danger spacer-top",style:{wordBreak:"normal"}},(0,i.translate)("system.log_level.warning")):null;return s["default"].createElement("div",null,s["default"].createElement("select",{ref:"select",onChange:this.onChange,value:this.state.level},e),t)}})},1495:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(782),s=a(r),o=n(1496),i=a(o),l=n(1497),u=a(l),c=n(1489),d=s["default"].extend({template:i["default"],restartingTemplate:u["default"],initialize:function(){this.restarting=!1},getTemplate:function(){return this.restarting?this.restartingTemplate:this.template},onFormSubmit:function(){s["default"].prototype.onFormSubmit.apply(this,arguments),this.restarting=!0,this.render(),(0,c.restartAndWait)().then(function(){document.location.reload()})}});t["default"]=d},1496:function(e,t,n){var a=n(393);e.exports=(a["default"]||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom">\n      Are you sure you want to restart the server?\n    </p>\n  </div>\n  <div class="modal-foot">\n    <button id="restart-server-submit">Restart</button>\n    <a href="#" class="js-modal-close" id="restart-server-cancel">Cancel</a>\n  </div>\n</form>\n'},useData:!0})},1497:function(e,t,n){var a=n(393);e.exports=(a["default"]||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom text-center">\n      Server is restarting. This page will be automatically refreshed.\n    </p>\n    <p class="big-spacer-top spacer-bottom text-center">\n      <i class="spinner"></i>\n    </p>\n  </div>\n</form>\n'},useData:!0})}});